<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.henry.jrt.mapper.UserMapper">

<resultMap type="com.henry.jrt.bean.CustomUserDetails" id="resultUser">
                 
 <result column="description" property="desc" jdbcType="VARCHAR"/>
 <result column="email" property="email" jdbcType="VARCHAR"/>
 <result column="user_id" property="username" jdbcType="VARCHAR"/>
 <result column="user_name" property="nickName" jdbcType="VARCHAR"/>
 <result column="user_pw" property="password" jdbcType="VARCHAR"/>
 <result column="authority" property="authoritie" jdbcType="VARCHAR"/>
</resultMap>

<select id="getUserById" parameterType="java.lang.String" resultMap="resultUser">

SELECT
	u.description,
	u.email,
	u.user_id,
	u.user_name,
	u.user_pw,
	a.authority
FROM
	t_user u
LEFT JOIN t_authoritie a ON u.user_id = a.user_id
WHERE
	u.user_id =#{userId}

</select>

</mapper>